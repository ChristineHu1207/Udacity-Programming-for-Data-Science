1
00:00:00,000 --> 00:00:02,767
تسمح لك دالة NTILE برؤية النسبة المئوية

2
00:00:02,867 --> 00:00:05,833
أو أي قسم فرعي أخر يدخل صف ما في تصنيفه.

3
00:00:05,933 --> 00:00:07,133
كما ترى هنا

4
00:00:07,233 --> 00:00:09,567
فإن الرقم المحدد في دالة NTILE

5
00:00:09,667 --> 00:00:12,833
هو عدد الأقسام التي ستجزئ النافذة إليها.

6
00:00:12,933 --> 00:00:15,000
مئة تعني نسب مئوية،

7
00:00:15,100 --> 00:00:18,600
خمسة تعني أخماس، وأربعة تعني أرباع.

8
00:00:18,700 --> 00:00:23,633
في هذه الحال، يحدد بند الترتيب ORDER BY
أي عمود يجب استخدامه من أجل تحديد الأرباع،

9
00:00:23,733 --> 00:00:26,600
وهنا نحن نستخدم عمود الكمية standard_qty.

10
00:00:27,867 --> 00:00:34,133
ستستطلع دالة NTILE(4)
قيمة standard_qty في كل صف

11
00:00:34,233 --> 00:00:36,733
وتقارنها بجميع الصفوف الأخرى داخل النافذة،

12
00:00:36,833 --> 00:00:40,300
ومن ثم تطبع الربع الذي تنطوي تحته القيمة.

13
00:00:40,400 --> 00:00:43,800
إذن، إن كانت الكمية standard_qty
هي "صفر" فإنها تنطوي تحت الربع الأول،

14
00:00:43,900 --> 00:00:49,900
في حين أن القيمة الأعلى
تنطوي تحت الربع الرابع.

